const mongoose = require('mongoose');
const Schema = mongoose.Schema;

const movieSchema = new mongoose.Schema({
  airline: {type: String, enum: ['American', 'Southwest', 'United', 'BA', 'KLM'], required: true},
  airport: { type: String, enum: ['STL', 'SGF', 'MCI', 'MEM']},
  flightNo: { type: Number, required: true, min: 10, max:9999},
  departs: {type: [Date], default: function() {
    const date = new Date()
    date.setFullYear(date.getFullYear() + 1)
    const options = { month: 'short', day: '2-digit', hour: 'numeric', minute: '2-digit', hourCycle: 'h12', year: 'numeric'}
    date.toLocaleString('en-us', options)
  }},
}, {
  timestamps: true
})

// Compile the schema into a model and export it
module.exports = mongoose.model('Flight', movieSchema);